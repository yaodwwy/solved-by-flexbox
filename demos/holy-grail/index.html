<!DOCTYPE html><html lang=zh-CN><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><title>圣杯布局 &mdash; Solved by Flexbox &mdash; 更干净,无奇技淫巧的 CSS</title><meta name=HandheldFriendly content=True><meta name=MobileOptimized content=320><meta name=viewport content="width=device-width,minimum-scale=1,maximum-scale=1"><meta name=description content="A showcase of problems once hard or impossible to solve with CSS alone, now made trivially easy with Flexbox."><meta name=google-site-verification content=q5KncOje-dNdD5uxqSOG1znSAo5Wsz5MlBcAmteQAJA><link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600" rel=stylesheet><link href=https://netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.min.css rel=stylesheet><link href=/solved-by-flexbox/main.css rel=stylesheet type=text/css><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,window.onerror=function n(){(n.q=n.q||[]).push(arguments)}</script><script async src=https://www.google-analytics.com/analytics.js></script><script async id=twitter-wjs src=https://platform.twitter.com/widgets.js></script></head><body class=HolyGrail><header class=HolyGrail-header><div class="Header Header--cozy" role=banner><div class=Header-titles><h1 class=Header-title><a href=/solved-by-flexbox/ >Solved <i>by</i> Flexbox</a></h1><h2 class=Header-subTitle>更干净,无奇技淫巧的 CSS</h2></div><div class=Header-actions><a class="Header-button Button Button--action Button--wide" ga-on=click ga-hit-type=social ga-social-network=Github ga-social-action=view-source ga-social-target=https://github.com/philipwalton/solved-by-flexbox href=https://github.com/philipwalton/solved-by-flexbox><span class="icon-github icon-large"></span>&nbsp; 查看项目源代码 </a><a class="Header-button Button Button--wide" ga-on=click ga-hit-type=social ga-social-network=Twitter ga-social-action=tweet ga-social-target=https://philipwalton.github.io/solved-by-flexbox/solved-by-flexbox/demos/holy-grail/ href="https://twitter.com/intent/tweet?text=A%20showcase%20of%20traditionally%20hard%20CSS%20problems%2C%20easily%20solved%20using%20flexbox.&url=https://philipwalton.github.io/solved-by-flexbox/&via=philwalton"><span class="icon-twitter icon-large twitter-color"></span>&nbsp; 告诉大家</a></div></div></header><main class=HolyGrail-body><article class=HolyGrail-content><h1>圣杯布局</h1><p><a href=http://en.wikipedia.org/wiki/Holy_Grail_(web_design)>圣杯布局</a> 是典型的 CSS 布局问题，有着众多的解决方案。如果你不熟悉圣杯布局的历史，<a href=http://alistapart.com/article/holygrail>这篇文章</a> 能够提供很好的总结，并连接了几个众所周知的解决方案。</p><p>圣杯布局由页头 (header)，中间部分 (center)，页脚 (footer)，和三栏组成。中间的一栏是主要内容，左边和右边提供如广告、导航的链接。</p><p>大部分的 CSS 解决方案都是以下列为目标：</p><ul><li>边栏应流动居中，定宽。</li><li>中间一栏 (主要内容) 在 HTML 源码中应该首先元素出现。</li><li>所有栏同高，忽略实际高度。</li><li>使用的 HTML 标记尽量少。</li><li>当页面内容不够充满页面时，页脚应“粘”在底部。</li></ul><p>不幸的是，这些自然的需求由于原生css的限制，当前经典的圣杯布局的解决方案都不能完美满足以上所有的要点。</p><p>有了 Flexbox 布局，终极的解决方案终于成为可能。</p><h2>HTML 代码</h2><pre><code class=language-html><span class=hljs-tag>&lt;<span class=hljs-name>body</span> <span class=hljs-attr>class</span>=<span class=hljs-string>"HolyGrail"</span>&gt;</span>
  <span class=hljs-tag>&lt;<span class=hljs-name>header</span>&gt;</span>…<span class=hljs-tag>&lt;/<span class=hljs-name>header</span>&gt;</span>
  <span class=hljs-tag>&lt;<span class=hljs-name>div</span> <span class=hljs-attr>class</span>=<span class=hljs-string>"HolyGrail-body"</span>&gt;</span>
    <span class=hljs-tag>&lt;<span class=hljs-name>main</span> <span class=hljs-attr>class</span>=<span class=hljs-string>"HolyGrail-content"</span>&gt;</span>…<span class=hljs-tag>&lt;/<span class=hljs-name>main</span>&gt;</span>
    <span class=hljs-tag>&lt;<span class=hljs-name>nav</span> <span class=hljs-attr>class</span>=<span class=hljs-string>"HolyGrail-nav"</span>&gt;</span>…<span class=hljs-tag>&lt;/<span class=hljs-name>nav</span>&gt;</span>
    <span class=hljs-tag>&lt;<span class=hljs-name>aside</span> <span class=hljs-attr>class</span>=<span class=hljs-string>"HolyGrail-ads"</span>&gt;</span>…<span class=hljs-tag>&lt;/<span class=hljs-name>aside</span>&gt;</span>
  <span class=hljs-tag>&lt;/<span class=hljs-name>div</span>&gt;</span>
  <span class=hljs-tag>&lt;<span class=hljs-name>footer</span>&gt;</span>…<span class=hljs-tag>&lt;/<span class=hljs-name>footer</span>&gt;</span>
<span class=hljs-tag>&lt;/<span class=hljs-name>body</span>&gt;</span>
</code></pre><h2>CSS 代码</h2><p>让中间部分撑开并让页脚粘在底部的方法使用了 <a href=../sticky-footer/ >粘性页脚</a> 中相同的技术。唯一的不同点是，圣杯布局的中间部分 (<code>.HolyGrail-body</code>) 需要指定 <code>display:flex</code> 来控制子元素的布局。</p><pre><code class=language-css><span class=hljs-selector-class>.HolyGrail</span> {
  <span class=hljs-attribute>display</span>: flex;
  <span class=hljs-attribute>min-height</span>: <span class=hljs-number>100vh</span>;
  <span class=hljs-attribute>flex-direction</span>: column;
}

<span class=hljs-selector-class>.HolyGrail-body</span> {
  <span class=hljs-attribute>display</span>: flex;
  <span class=hljs-attribute>flex</span>: <span class=hljs-number>1</span>;
}
</code></pre><p>制造三个等高的，流式居中，定宽的边栏很简单：</p><pre><code class=language-css><span class=hljs-selector-class>.HolyGrail-content</span> {
  <span class=hljs-attribute>flex</span>: <span class=hljs-number>1</span>;
}

<span class=hljs-selector-class>.HolyGrail-nav</span>, <span class=hljs-selector-class>.HolyGrail-ads</span> {
  <span class=hljs-comment>/* 12em is the width of the columns */</span>
  <span class=hljs-attribute>flex</span>: <span class=hljs-number>0</span> <span class=hljs-number>0</span> <span class=hljs-number>12em</span>;
}

<span class=hljs-selector-class>.HolyGrail-nav</span> {
  <span class=hljs-comment>/* put the nav on the left */</span>
  <span class=hljs-attribute>order</span>: -<span class=hljs-number>1</span>;
}
</code></pre><aside class=Notice><strong>注意:</strong>&nbsp; 该 demo 的 CSS 代码需要轻微修改才能跨浏览器工作。参考 <a href=https://github.com/philipwalton/solved-by-flexbox/blob/master/assets/css/components/holy-grail.css>源代码的注释</a>。</aside><h3>响应式</h3><p>圣杯布局来自于每个人都使用个人计算机冲浪的互联网时期的网页设计，但是随着移动设备的激增，圣杯布局已渐渐没落。</p><p>另一方面，使用 Flexbox 布局，创建一个移动设备优先和移动设备友好版本的圣杯布局很简单。其主旨就是把中间的部分默认指定为 <code>flex-direction:column</code> ，然后为拥有更宽屏幕的设备指定 <code>flex-direction:row</code> 。</p><p>这里是一个完整版的移动式被优先响应式示例。你可以调整浏览器大小来查看效果。</p><pre><code class=language-css><span class=hljs-selector-class>.HolyGrail</span>,
<span class=hljs-selector-class>.HolyGrail-body</span> {
  <span class=hljs-attribute>display</span>: flex;
  <span class=hljs-attribute>flex-direction</span>: column;
}

<span class=hljs-selector-class>.HolyGrail-nav</span> {
  <span class=hljs-attribute>order</span>: -<span class=hljs-number>1</span>;
}

@<span class=hljs-keyword>media</span> (min-width: <span class=hljs-number>768px</span>) {
  <span class=hljs-selector-class>.HolyGrail-body</span> {
    <span class=hljs-attribute>flex-direction</span>: row;
    <span class=hljs-attribute>flex</span>: <span class=hljs-number>1</span>;
  }
  <span class=hljs-selector-class>.HolyGrail-content</span> {
    <span class=hljs-attribute>flex</span>: <span class=hljs-number>1</span>;
  }
  <span class=hljs-selector-class>.HolyGrail-nav</span>, <span class=hljs-selector-class>.HolyGrail-ads</span> {
    <span class=hljs-comment>/* 12em is the width of the columns */</span>
    <span class=hljs-attribute>flex</span>: <span class=hljs-number>0</span> <span class=hljs-number>0</span> <span class=hljs-number>12em</span>;
  }
}
</code></pre><p>在 Github 中查看这个 demo 中完整的圣杯组件 <a href=https://github.com/philipwalton/solved-by-flexbox/blob/master/assets/css/components/holy-grail.css>源代码</a></p></article><nav class="HolyGrail-nav u-textCenter"><strong>导航栏</strong></nav><aside class="HolyGrail-ads u-textCenter"><strong>广告</strong></aside></main><footer class=HolyGrail-footer><div class=Footer><span class=Footer-social><iframe class=github-btn src="https://ghbtns.com/github-btn.html?user=philipwalton&repo=solved-by-flexbox&type=watch&count=true" allowtransparency=true frameborder=0 scrolling=0 width=109px height=20px></iframe><a href=https://twitter.com/philwalton class=twitter-follow-button data-show-count=true data-lang=en>@philwalton</a> <a href=https://twitter.com/share class=twitter-share-button data-text="A showcase of traditionally hard CSS problems, easily solved using flexbox." data-url=https://philipwalton.github.io/solved-by-flexbox/ data-count=horizontal data-via=philwalton data-related="philwalton:Creator of Solved by Flexbox">Tweet</a></span><div class=Footer-credits><span class=Footer-credit>Created and maintained by <a href=https://philipwalton.com>Philip Walton</a>.</span> <span class=Footer-credit>Translated with love by <a href=https://github.com/hufan-Akari/ >阿卡琳</a>.</span> <span class=Footer-credit>Source code and examples released under the <a href=https://github.com/philipwalton/solved-by-flexbox/blob/master/LICENSE>MIT</a> license.</span> <span class=Footer-credit>Website and documentation licensed under <a href=https://creativecommons.org/licenses/by/4.0/ >CC BY 4.0</a>.</span></div></div></footer><script src=/solved-by-flexbox/main.js></script></body></html>